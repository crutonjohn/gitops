---
apiVersion: helm.toolkit.fluxcd.io/v2
kind: HelmRelease
metadata:
  name: dcsi
spec:
  values:
    csiDriver:
      attachRequired: false
      name: "org.democratic-csi.node-manual"
    controller:
      enabled: false
      externalAttacher:
        enabled: true
    storageClasses:
      - name: nvmeof-manual
        defaultClass: false
        reclaimPolicy: Delete
        volumeBindingMode: WaitForFirstConsumer
        allowVolumeExpansion: true
        parameters:
          fsType: xfs
    volumeSnapshotClasses: []
      # - name: dcsi-dynamic
      #   annotations: {}
      #   labels: {}
      #   deletionPolicy: Delete
      #   parameters:
      #   secrets:
      #     snapshotter-secret:
    driver:
      config:
        driver: node-manual
    node:
      kubeletHostPath: /var/lib/k0s/kubelet
